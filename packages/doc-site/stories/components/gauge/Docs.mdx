import { Canvas, Meta, Story } from '@storybook/blocks';

import * as GaugeStories from './Gauge.stories';

# Gauge

The Gauge component provides a compact representation of an overview of your asset properties. 
Visualize critical insights into the overall performance of your devices, equipment, or processes. 
Interact with IoT data from one or more data sources with Gauge.

<Canvas
  sourceState='none'
  story={{ height: '500px' }}
  of={GaugeStories.Standard}
/>

# Gauge with Thresholds

Gauge with thresholds enhances visualization of your asset properties. This allows for better differentiation,
and highlights specific ranges or values. A defined threshold visually represents different levels or 
categories of data, making it easier to identify patterns or anomalies. 
It provides clear and insightful visualizations for improved data analysis.

<Canvas
  sourceState='none'
  story={{ height: '500px' }}
  of={GaugeStories.StandardWithThresholds}
/>

## Basic usage

```jsx
<Gauge
  query={query.timeSeriesData({
    assets: [
      {
        assetId: 'id',
        properties: [{ propertyId: 'property', refId: 'my-property' }],
      },
    ],
  })}
  thresholds={[
    {
      value: 30,
      id: 'abc',
      color: '#1e8103',
      comparisonOperator: 'GT',
    },
    {
      value: 70,
      id: 'xyz',
      color: '#ed7211',
      comparisonOperator: 'GT',
    },
    {
      value: 100,
      id: 'xyz',
      color: '#d13211',
      comparisonOperator: 'GT',
    },
  ]}
  settings={{
    gaugeThickness: 30,
    showUnit: true,
    showName: false,
    fontSize: 40,
    labelFontSize: 12,
    unitFontSize: 16,
    yMin: 0,
    yMax: 100,
  }}
/>
```

## Gauge Properties

The Gauge component has the following customizable properties:

#### viewport (object,optional):

Specify the interval of time the widget visualizes. If not provided, the widget utilizes the `viewport` specified by its [ViewportManager](/docs/components-viewportmanager--docs).
If a iewportManager, and a `viewport` is not defined, the default viewport is `{ duration: '10d' }`.
Learn about the [viewport](/docs/core-viewport--docs).

#### thresholds (object, optional):

Define rules to display how the data is visualized based on if the data breaches the threshold and how the threshold is styled.
Learn more about [thresholds](/docs/core-thresholds--docs#thresholds).

#### query (object):

The query that specifes the time series data to visualize.
Learn more about [time series data queries](/docs/core-time-series-data--docs).

#### significantDigits (number, optional):

Specify the number of significant digits displayed. The default value is `4`.

#### settings (object, optional):

Settings to customize the appearance of the widget.

The settings object contains the following properties:

  - `gaugeThickness` (number, optional): Specifies the thickness of the gauge.
  - `showName` (boolean, optional): Set to `true` to display the name of the data. Default value is `true`.
  - `showUnit` (boolean, optional): Set to `true` to display the units of the data. Default value is `true`.
  - `fontSize` (number, optional): The font size in pixels. Default value is 40.
  - `labelFontSize` (number, optional): The label font size in pixels. Default is 12.
  - `unitFontSize` (number, optional): The unit font size in pixels. Default is 16.
  - `yMin` (number, optional): The starting (minimum) value of the gauge.
  - `yMax` (number, optional): The ending (maximum) value of the gauge.

#### titleText (string, optional):
This specifies the title for the gauge component. Default value is `undefined`.

### Examples

#### Bad data quality
An example of bad data quality.

<Canvas sourceState='none' of={GaugeStories.BadDataQuality} />

#### Uncertain data quality
An example of uncertain data quality

<Canvas sourceState='none' of={GaugeStories.UncertainDataQuality} />

#### Loading
An example when the data is loading.

<Canvas sourceState='none' of={GaugeStories.Loading} />

#### Error
An example of an error.

<Canvas sourceState='none' of={GaugeStories.Error} />
